0 REM *** STAR WARS ***
1 REM COPYRIGHT 1977, R. J. BISHOP
2 TV=1
3 CLEAR=2217:SETUP=2429:DRAW=2304:UNDRAW=2308:PLOT=2048:TEST=2560:NOISE=2623:BELL=-198
5 N=7
10 GOSUB 5000
20 CALL CLEAR
25 GOSUB 1000
30 POKE 15,0: CALL SETUP
35 POKE 16,70: POKE 17,80:POKE 18,0
40 GOSUB 3000
50 CALL BELL
60 POKE -16297,0: GR
70 TIME=90*N:AMMO=25:HITS=0
75 POKE 50,63
80 VTAB 24: TAB 2: PRINT "     MAY THE FORCE BE WITH YOU!       ";:TAB 1
85 POKE 50,255
90 VTAB 22: PRINT "  TIME: ";(TIME+N-1)/N;: TAB 17: PRINT "SCORE: 0";: TAB 31: PRINT "AMMO: "; AMMO;
100 X=X+( RND (21)-10)+(128-PDL(0))/3
110 FOR K = 1 TO 10 : NEXT K
120 Y=Y+( RND (31)-15)+(128-PDL(1))/2
130 IF X < 10 THEN X=10
140 IF X > 1309 THEN X=1309
150 IF Y < 10 THEN Y=10
160 IF Y > 1469 THEN Y=1469
180 CALL UNDRAW
200 POKE 16,X/10:POKE 17,Y/10
210 CALL DRAW
250 CALL TEST
260 IF PEEK (19)=0 THEN 350
270 AMMO=AMMO-1:TIME=TIME-1
280 IF PEEK (19)#2 THEN 350
300 GOSUB 2000
310 GOSUB 3000
320 HITS=HITS+1:TIME=TIME-N
350 TIME=TIME-1
400 TAB 9: PRINT "   ";: TAB 37: PRINT "  ";
410 TAB 9: PRINT (TIME+N-1)/N;: TAB 24: PRINT HITS;: TAB 37: PRINT AMMO;
450 IF TIME>0 AND AMMO THEN 100
500 CALL BELL
520 TEXT : CALL -936
550 VTAB 7: TAB 11: PRINT "--- GAME OVER ---"
570 VTAB 13: TAB 9: PRINT "YOU FIRED ";25-AMMO;" ROUNDS OF"
580 TAB 11: PRINT "AMMO IN ";(90*N-TIME)/N;" SECONDS."
590 PRINT : TAB 3: PRINT "YOU DESTROYED "; HITS;" ENEMY SPACESHIPS."
600 PRINT : PRINT : TAB 5: PRINT "(HIT 'RETURN' TO PLAY AGAIN)"
650 POKE -16368,0
670 CHAR=PEEK(-16384)
680 IF CHAR#141 THEN 670
700 POKE -16368,0
710 CALL UNDRAW: GOTO 40
1000 REM DRAW GUNSIGHT
1010 FOR Z=0 TO 1
1020 POKE 18,Z
1030 FOR X=0 TO 139
1040 POKE 16,X
1050 POKE 17,0: CALL PLOT
1060 POKE 17,159: CALL PLOT
1070 NEXT X
1100 FOR Y = 0 TO 159
1110 POKE 17,Y
1120 POKE 16,0: CALL PLOT
1130 POKE 16,139: CALL PLOT
1140 NEXT Y
1150 NEXT Z
1200 FOR X=45 TO 95
1205 IF X>=65 AND X<=75 THEN 1290
1210 POKE 16,X
1220 LONG=0
1230 IF (X-45) MOD 5=0 THEN LONG=3
1240 IF (X-45) MOD 10=0 THEN LONG=6
1250 IF X=45 OR X=95 THEN LONG=12
1260 FOR Y=80-LONG TO 80+LONG STEP TV
1270 POKE 17,Y: CALL PLOT
1280 NEXT Y
1290 NEXT X
1300 FOR Y=40 TO 120 STEP TV
1305 IF Y>=72 AND Y<=88 THEN 1390
1310 POKE 17,Y
1320 LONG=0
1330 IF (Y-40) MOD 8=0 THEN LONG=2
1340 IF (Y-40) MOD 16=0 THEN LONG=5
1350 IF Y=40 OR Y=120 THEN LONG=10
1360 FOR X=70-LONG TO 70+LONG
1370 POKE 16,X: CALL PLOT
1380 NEXT X
1390 NEXT Y
1400 RETURN
2000 REM EXPLOSION SUBROUTINE
2010 CALL UNDRAW
2020 POKE 16,63: POKE 17,70
2040 POKE 15,29: CALL SETUP
2050 POKE 18,1: CALL DRAW
2055 CALL NOISE
2060 POKE 18,0: CALL DRAW
2065 CALL NOISE
2070 POKE 18,1: CALL UNDRAW
2075 CALL NOISE
2080 POKE 18,0: CALL UNDRAW
2085 CALL NOISE
2100 POKE 15,74: CALL SETUP
2110 POKE 18,1: CALL DRAW
2115 CALL NOISE
2120 POKE 18,0: CALL DRAW
2125 CALL NOISE
2130 POKE 18,1: CALL UNDRAW
2135 CALL NOISE
2140 POKE 18,0: CALL UNDRAW
2145 CALL NOISE
2500 POKE 16,X/10: POKE 17,Y/10: POKE 18,0
2530 POKE 15,0: CALL SETUP
2550 RETURN
3000 X=1290* RND(2)+10
3010 Y=1450* RND(2)+10
3080 CALL UNDRAW
3090 RETURN
5000 TEXT : CALL -936
5010 VTAB 7: TAB 10: PRINT "***  STAR  WARS  ***"
5020 VTAB 11: TAB 19: PRINT "BY"
5030 VTAB 13: TAB 12: PRINT "ROBERT J. BISHOP"
5040 VTAB 18: TAB 2: PRINT "(BASED ON THE MOVIE BY GEORGE LUCAS)"
5050 RETURN
